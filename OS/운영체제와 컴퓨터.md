## 운영체제와 컴퓨터

    운영체제(OS, Operating System)
    사용자가 컴퓨터를 쉽게 다루게 해주는 인터페이스

    ※ 펌웨어: 운영체제와 유사하나 소프트웨어를 추가로 설치할 수 없음

<br>

### 운영체제의 역할

1. CPU 스케줄링과 프로세스 관리

        1. CPU 소유권을 어떤 프로세스에 할당할지 관리

        2. 프로세스의 생성과 삭제 관리

        3. 자원 할당 및 반환을 관리
2. 메모리 관리

        한정된 메모리를 '어떤 프로세스'에 '얼만큼 할당해야 하는지'를 관리
3. 디스크 파일 관리

        디스크 파일을 어떤 방법으로 보관할지 관리
4. I/O 디바이스 관리

        I/O 디바이스들인 마우스, 키보드와 컴퓨터 간에 데이터를 주고받는 것을 관리

<br>

### 운영체제의 구조

    [유저 프로그램]

    [인터페이스(GUI, CUI)]
    GUI: 아이콘을 마우스로 클릭하는 단순한 동작으로 컴퓨터와 상호 작용할 수 있는 사용자 인터페이스
    CUI: 그래픽이 아닌 명령어로 처리하는 인터페이스 (ex. 리눅스 서버)

    [시스템 콜]

    [커널]
    운영체제의 핵심 부분, 시스템콜 인터페이스를 제공하며
    보안, 메모리, 파일 시스템, I/O 디바이스, I/O 요청 관리 등 운영체제의 중추 역할 수행

    드라이버: 하드웨어를 제어하기 위한 소프트웨어
    파일 시스템

    [하드웨어]

**시스템콜**

    운영체제가 커널에 접근하기 위한 인터페이스

    유저 프로그램이 운영체제의 서비스를 받기 위해 '커널 함수'를 호출할 때 사용

    작동 과정)
    1. 유저 프로그램이 I/O 요청으로 트랩을 발동
    2. 올바른 요청인지 확인
    3. 유저 모드가 시스템콜을 통해 커널 모드로 변환되어 실행

    ※ 유저 모드: 컴퓨터 자원에 함부로 침범하지 못하는 모드
    ※ 커널 모드: 모든 컴퓨터 자원에 접근할 수 있는 모드
    ※ I/O 요청: 입출력 함수, 데이터베이스, 네트워크, 파일 접근에 관한 일

    커널 모드로 변환했을 때 장점)
    1. 컴퓨터 자원에 대한 직접 접근을 차단
    2. 프로그램을 다른 프로그램으로부터 보호

    시스템콜의 장점)
    하나의 추상화 계층이기 때문에 낮은 단계의 영역(데이터베이스, 네트워크 통신 등) 처리에 대한 부분을
    많이 신경쓰지 않고 프로그램을 구현할 수 있음

    modebit
    1 또는 0의 값을 가지는 플래그 변수로 '유저 모드와 커널 모드를 구분'
    
<br>

### 컴퓨터의 요소

1. CPU
2. DMA 컨트롤러
3. 메모리
4. 타이머
5. 디바이스 컨트롤러

<br>

### CPU

    CPU(Central Processing Unit)
    '산술논리연산장치', '제어장치', '레지스터'로 구성된 컴퓨터 장치
    
    '인터럽트'에 의해 단순히 메모리에 존재하는 명령어를 해석해 실행하는 일꾼
    => 운영체제의 커널이 프로그램을 메모리에 올려 프로세스로 만들면,
    일꾼인 CPU가 이를 처리

    [산술논리연산장치]
    산술 연산과 논리 연산을 계산하는 디지털 회로

    [제어장치]
    프로세스 조작을 지시하는 CPU의 한 부품
    1. 입출력장치 간 통신을 제어
    2. 명령어들을 읽고 해석
    3. 데이터 처리를 위한 순서를 결정

    [레지스터]
    CPU 안에 있는 매우 빠른 임시기억장치
    연산 속도가 메모리보다 수십 배~수백 배 빠름
    CPU는 자체적으로 데이터를 저장할 수 없어 레지스터를 거쳐 데이터를 전달

    CPU의 연산 과정)
    1. 제어장치가 메모리와 레지스터에 계산할 값을 로드
    2. 제어장치가 산술논리연산장치에 레지스터에 있는 값을 계산하라고 명령
    3. 제어장치가 계산된 값을 '레지스터에서 메모리로' 저장

    [인터럽트]
    어떤 신호가 들어왔을 때, CPU를 잠깐 정지하는 것

    인터럽트 종류)
    하드웨어 인터럽트: IO 디바이스에서 발생하는 인터럽트 (ex. 키보드 연결)
    소프트웨어 인터럽트(트랩): 프로세스 오류 등으로 프로세스가 시스템콜을 호출할 때 발동

    인터럽트 작동과정)
    1. 인터럽트 발생
    2. 인터럽트 핸들러 함수가 모여 있는 '인터럽트 벡터'로 이동
    3. 인터럽트 핸들러 함수가 실행

<br>

### DMA 컨트롤러

    I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치

    CPU 부하를 막아주는 보조 일꾼
    (CPU에 너무 많은 인터럽트 요청이 들어오기 때문에)

    하나의 작업을 CPU와 DMA 컨트롤러가 '동시에 하는 것을 방지'

<br>

### 메모리

    전자회로에서 데이터나 상태, 명령어 등을 '기록하는 장치'

    보통 RAM(Random Access Memory)를 메모리라고 함

    CPU는 계산 담당, 메모리는 기억 담당
    공장에 비유하면)
    CPU는 일꾼, 메모리는 작업장
    그래서 메모리가 클수록 많은 일을 동시에 할 수 있음

<br>

### 타이머

    시간이 많이 걸리는 프로그램이 작동할 때, '제한을 걸기 위해' 존재

    역할)
    1. 몇 초 안에는 작업이 끝나야 한다는 것을 정함
    2. 특정 프로그램에 시간 제한을 다는 역할을 함

<br>

### 디바이스 컨트롤러

    컴퓨터와 연결되어 있는 IO 디바이스들의 '작은 CPU'

    ※ 로컬 버퍼: 디바이스 컨트롤러 옆에 붙어 각 디바이스에서 데이터를 임시로 저장하기 위한 '작은 메모리'